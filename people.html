<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>People | Angers Lab</title>
  <meta name="description" content="Meet the Angers Lab team at the Donnelly Centre, University of Toronto: faculty, trainees, staff, and alumni." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%230a0a0a'/><text x='50' y='58' font-size='60' text-anchor='middle' fill='%23ffffff' font-family='Arial, Helvetica, sans-serif'>A</text></svg>">
  <style>
    :root { --bg:#0b0c10; --panel:#111317; --elev:#161a20; --text:#e9eef5; --muted:#aeb6c2; --brand:#59d5ff; --brand-2:#7bffb1; --link:var(--brand); --maxw:1100px; --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.35); }
    @media (prefers-color-scheme: light){ :root{ --bg:#f6f8fb; --panel:#ffffff; --elev:#f1f4f8; --text:#0f172a; --muted:#4b5563; --brand:#005bff; --brand-2:#00ad6b; --link:#0b63ff; }}
    *{box-sizing:border-box} html,body{height:100%} body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:radial-gradient(1200px 600px at 80% -50%, rgba(89,213,255,.15), transparent 60%), radial-gradient(900px 500px at -10% 0%, rgba(123,255,177,.12), transparent 55%), var(--bg);line-height:1.55}
    a{color:var(--link);text-decoration:none} a:hover{text-decoration:underline}
    .wrap{max-width:var(--maxw);margin-inline:auto;padding-inline:clamp(16px,3vw,32px)}
    header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(140%) blur(8px);background:color-mix(in oklab, var(--bg) 85%, transparent);border-bottom:1px solid color-mix(in oklab, var(--text) 10%, transparent)}
    .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700;letter-spacing:.2px}
    .brand .logo{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:#001319;font-weight:900;box-shadow:var(--shadow)}
    .brand small{display:block;font-weight:600;color:var(--muted);line-height:1}
    nav ul{list-style:none;margin:0;padding:0;display:flex;gap:22px;align-items:center}
    nav a{color:var(--text);opacity:.9;font-weight:600}
    .menu-btn{display:none;background:none;border:none;color:var(--text);font-size:28px}
    @media (max-width:860px){ nav ul{display:none;position:absolute;top:64px;left:0;right:0;background:var(--panel);border-bottom:1px solid color-mix(in oklab, var(--text) 10%, transparent);padding:12px 18px;flex-direction:column;gap:8px} nav ul.open{display:flex} .menu-btn{display:block} }

    main{padding:clamp(28px,6vw,64px) 0}
    .page-head{padding:clamp(18px,4vw,36px) 0}
    h1{font-size:clamp(28px,4vw,44px);margin:10px 0 8px}
    .sub{color:var(--muted)}

    .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;align-items:center}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:color-mix(in oklab, var(--text) 8%, transparent);color:var(--text);font-weight:600;border:1px solid color-mix(in oklab, var(--text) 10%, transparent);cursor:pointer}
    .chip.active{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#002016;border:none}
    .input{background:var(--panel);border:1px solid color-mix(in oklab, var(--text) 12%, transparent);border-radius:12px;padding:10px 12px;color:var(--text);min-width:220px}

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:clamp(12px,2vw,20px)}
    .card{grid-column:span 4;background:var(--panel);border:1px solid color-mix(in oklab, var(--text) 10%, transparent);border-radius:16px;padding:16px;display:grid;grid-template-columns:72px 1fr;gap:12px;align-items:start;box-shadow:var(--shadow)}
    .photo{width:72px;height:72px;border-radius:50%;object-fit:cover;object-position:center;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:#001319;font-weight:900}
    .fallback{width:72px;height:72px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#001319;font-weight:900}
    .role{color:var(--muted);margin-top:2px}
    .tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .tag{font-size:.85rem;padding:4px 8px;border-radius:8px;background:color-mix(in oklab, var(--text) 8%, transparent);border:1px solid color-mix(in oklab, var(--text) 10%, transparent)}
    .links{margin-top:8px;display:flex;gap:10px;flex-wrap:wrap}
    .links a{display:inline-flex;align-items:center;gap:6px}

    @media (max-width:980px){ .card{grid-column:span 6} }
    @media (max-width:680px){ .card{grid-column:span 12;grid-template-columns:56px 1fr} .photo,.fallback{width:56px;height:56px} }

    footer{border-top:1px solid color-mix(in oklab, var(--text) 10%, transparent);padding:18px 0 32px;color:var(--muted)}
    .footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:24px}
    .footer-grid a{color:var(--muted)}
    @media (max-width:820px){ .footer-grid{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <a class="sr-only" href="#main">Skip to content</a>
  <header>
    <div class="wrap nav">
      <a class="brand" href="index.html" aria-label="Angers Lab Home">
        <span class="logo">A</span>
        <span>Angers Lab<br/><small>Cellular Signaling & Regeneration</small></span>
      </a>
      <nav>
        <button class="menu-btn" aria-label="Open menu" onclick="document.getElementById('menu').classList.toggle('open');">☰</button>
        <ul id="menu">
  <li><a href="stephane-angers.html">Stephane Angers</a></li>
  <li><a href="research.html">Research</a></li>
  <li><a href="people.html" aria-current="page">People</a></li>
  <li><a href="publications.html">Publications</a></li>
  <li><a href="news.html">News</a></li>
  <li><a href="index.html#contact">Contact</a></li>
</ul>
      </nav>
    </div>
  </header>

  <main id="main" class="wrap">
    <section class="page-head">
      <span class="chip">Donnelly Centre • U of T</span>
      <h1>People</h1>
      <p class="sub">A collaborative team advancing signaling and regenerative biology.</p>

      <div class="toolbar" role="region" aria-label="People filters">
        <input id="search" class="input" placeholder="Search name or tags" aria-label="Search" />
        <div role="tablist" aria-label="Filter by role" class="filters" style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="chip active" data-filter="all" role="tab" aria-selected="true">All</button>
          <button class="chip" data-filter="faculty" role="tab">Faculty</button>
          <button class="chip" data-filter="postdoc" role="tab">Postdocs</button>
          <button class="chip" data-filter="grad" role="tab">Graduate</button>
          <button class="chip" data-filter="staff" role="tab">Staff</button>
          <button class="chip" data-filter="alumni" role="tab">Alumni</button>
        </div>
      </div>
    </section>

    <section class="grid" id="people-grid" aria-live="polite"></section>
  </main>

  <footer>
    <div class="wrap footer-grid">
      <div>
        <b>Angers Lab</b>
        <p class="mt-1">Cellular Signaling & Regeneration · Donnelly Centre · University of Toronto</p>
      </div>
      <div>
        <b>Navigate</b>
        <nav class="mt-1">
          <a href="Stephane Angers.html">Stephane</a><br>
          <a href="research.html">Research</a><br>
          <a href="people.html">People</a><br>
          <a href="publications.html">Publications</a><br>
          <a href="news.html">News</a>
        </nav>
      </div>
      <div>
        <b>Social</b>
        <p class="mt-1"><a href="#" aria-label="LinkedIn">LinkedIn</a> · <a href="#" aria-label="Google Scholar">Google Scholar</a> · <a href="#" aria-label="ORCID">ORCID</a></p>
        <p class="mt-1">© <span id="year"></span> Angers Lab. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const DATA_URL = 'assets/data/people.json';
    const fallback = [
      { name:'Stéphane Angers, PhD', role:'Professor & Principal Investigator', group:'faculty', initials:'SA', photo:'assets/images/people/stephane-angers.jpg', linkedin:'#', scholar:'#', orcid:'#', tags:['Wnt/Frizzled','Protein engineering','Genomics'] },
      { name:'Postdoctoral Fellow', role:'Recruiting now', group:'postdoc', initials:'PD', photo:'', linkedin:'#', tags:['Signalosomes','CRISPR'] },
      { name:'Graduate Student', role:'Molecular Genetics', group:'grad', initials:'GS', photo:'', linkedin:'#', tags:['LRP6','Proteomics'] },
      { name:'Research Associate', role:'Protein expression & screening', group:'staff', initials:'RA', photo:'', linkedin:'#', tags:['Antibodies','Purification'] },
      { name:'Alumni Name', role:'Now at: Company/University', group:'alumni', initials:'AL', photo:'', linkedin:'#', tags:['2022'] }
    ];

    const icons = {
      linkedin:`<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM0 8h5v16H0zM8 8h4.8v2.2h.07c.67-1.27 2.3-2.6 4.73-2.6 5.06 0 6 3.33 6 7.66V24h-5V16.4c0-1.81-.03-4.14-2.52-4.14-2.52 0-2.9 1.97-2.9 4v7.74H8V8z"/></svg>`,
      scholar:`<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2L1 9l11 7 9-5.73V17h2V9L12 2zm0 9L3.74 9 12 4.26 20.26 9 12 11z"/></svg>`,
      orcid:`<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a10 10 0 100 20 10 10 0 000-20zm-2.9 6.3h1.7v7.4H9.1V8.3zm2.9 0h3.2c2 0 3.4 1.3 3.4 3.3s-1.4 3.3-3.4 3.3H12V8.3zm1.7 1.5v4.4h1.5c1.2 0 2-.8 2-2.2s-.8-2.2-2-2.2h-1.5z"/></svg>`
    };

    const state = { people: [], q:'', group:'all' };

    function personCard(p){
      const el = document.createElement('article');
      el.className = 'card';
      el.dataset.group = p.group || '';

      const img = document.createElement(p.photo ? 'img' : 'div');
      if(p.photo){
        img.className = 'photo';
        img.src = p.photo;
        img.alt = 'Photo of ' + p.name;
        img.onerror = () => { img.replaceWith(makeFallback(p.initials)); };
      } else {
        img.className = 'fallback';
        img.textContent = (p.initials || (p.name||'?').slice(0,2)).toUpperCase();
        img.setAttribute('aria-hidden','true');
      }

      const box = document.createElement('div');
      box.innerHTML = `<h3>${p.name||''}</h3><div class="role">${p.role||''}</div>`;

      const tags = document.createElement('div');
      tags.className = 'tags';
      (p.tags||[]).forEach(t=>{ const span = document.createElement('span'); span.className='tag'; span.textContent=t; tags.appendChild(span); });

      const links = document.createElement('div');
      links.className = 'links';
      if(p.linkedin) links.insertAdjacentHTML('beforeend', `<a href="${p.linkedin}" target="_blank" rel="noopener" aria-label="LinkedIn">${icons.linkedin}<span>LinkedIn</span></a>`);
      if(p.scholar)  links.insertAdjacentHTML('beforeend', `<a href="${p.scholar}" target="_blank" rel="noopener" aria-label="Google Scholar">${icons.scholar}<span>Scholar</span></a>`);
      if(p.orcid)    links.insertAdjacentHTML('beforeend', `<a href="${p.orcid}" target="_blank" rel="noopener" aria-label="ORCID">${icons.orcid}<span>ORCID</span></a>`);

      el.appendChild(img); el.appendChild(box); box.appendChild(tags); box.appendChild(links);
      return el;
    }

    function makeFallback(initials){
      const d = document.createElement('div');
      d.className = 'fallback'; d.textContent = (initials||'').toUpperCase()||'?';
      d.setAttribute('aria-hidden','true');
      return d;
    }

    function render(){
      const grid = document.getElementById('people-grid');
      grid.innerHTML='';
      let rows = state.people.filter(p=>{
        if(state.group !== 'all' && p.group !== state.group) return false;
        if(state.q){ const q = state.q.toLowerCase(); const inTags = (p.tags||[]).join(' ').toLowerCase().includes(q); if(!(p.name?.toLowerCase().includes(q) || inTags)) return false; }
        return true;
      });
      // keep a pleasant order: faculty, postdoc, grad, staff, alumni
      const order = { faculty:0, postdoc:1, grad:2, staff:3, alumni:4 };
      rows.sort((a,b)=> (order[a.group]??9)-(order[b.group]??9) || a.name.localeCompare(b.name));
      rows.forEach(p=> grid.appendChild(personCard(p)));
    }

    // Filters
    document.querySelectorAll('[data-filter]').forEach(btn=> btn.addEventListener('click', ()=>{
      document.querySelectorAll('[data-filter]').forEach(b=> b.classList.remove('active'));
      btn.classList.add('active');
      state.group = btn.dataset.filter;
      render();
    }));
    document.getElementById('search').addEventListener('input', e=>{ state.q = e.target.value; render(); });

    (async function init(){
      try{
        const res = await fetch(DATA_URL, { cache: 'no-store' });
        if(!res.ok) throw new Error('no people.json');
        const data = await res.json();
        if(!Array.isArray(data)) throw new Error('people.json must be an array');
        state.people = data;
      } catch(err){ console.warn('[people] using fallback:', err.message); state.people = fallback; }
      render();
    })();
  </script>
</body>
</html>
